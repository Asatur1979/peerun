* Система ключей

** стоит поботать что-нить квантово-устойчивое сразу

ну или как минимум заранее подумать о переходе на это самое квавнтовоустойчивое в будущем

* Система имён
** Имена должны быть опциональны
** Имена с собачкой для совместимости со старой системой имен привязаной к доменам

Надо подумать как быть с новыми именами не связанными. Может привязать к фейко доменам?

** каналы в собственном пространстве имен

* Основопологающие вещи без которых можно не начинать
** Ориентированность на бизнес и корпоративное управление

за это есть несколько аргументов.
во-первых у них счас выбор между слаком,  матриксом и маттермостом по сути.
во-вторых там существенная часть переписки идёт внутри одной локалочки, что нам на руку. в третьих у компаний есть деньги и готовность платить за функции в чате, а у частников надо соревноваться с бесплатной телегой

** Децентрализованность
** Ридонли каналы
** Защита от спама

Белые списки. Чтобы написать человеку у которого ты не в белом списке надо сделать либо pow либо перевести тому кефира (например сделать смартконтракт, которому посылаешь хэш письма и сумму токенов)

*** По сути у нас есть оплата за неодобренные входящие. часть этой оплаты должна уйти на поддержание сети.
** Синхронизация переписки между всеми своими девайсами
* Свистелки
** Гибкая настройка нотификаций (по разным чатам, упоминании, времени)
* Киллерфичи
** Прозрачная замена email и совместимость с текущими идентификаторами

Вплоть до фолбэка на email

* общие мысли
** возможно стоит местами отказать от pfs и pd в угоду удобству
** Автодетект что это тяжелая нода по наличию проводного инета и отсуствию батареи

Конечно опционально. просто как дефолтное поведение. с возможностью перейти в любой из режимов по желанию пользователя.

** Если делать это на блокчейне кефира даже с учётом сайдчейна не ебанется ли опять сеть кефира
** неотзываемая учётка в БЧ "моя запись была скомпрометирована"
* Посмотреть https://autocrypt.org/index.html


Как именно они подходят к апгрейду нешифрованной почты в шифрованную
Такой же принцип для бутстрапа чего угодно через почту можно применить, думается

* Проблема модерации групповых чатов

Премодерация/постомодеоация. Возможно групповые чаты двух типов

* формат сообщений

Надо выбрать формат позволяющий некоторую свободу творчества, но без пиздеца.
Вероятно типа markdown/asciidoc (маркдаун внутри разрешает html что плохо) может какой-нить вики-формат, хотя скорее всего commonmark.org
Поскольку планируется совместимость с почтой, то очевидно надо уметь html. запретить его на уровне протокола не получится, но как минимум не делать поддержку в клиенте и конечно никакой подгрузки с внешних ресурсов в клиенте.


* протокол самого обмена сообщениями и метаинформацией. текст vs бинарный.

10 к 1 за бинарный. быстрее парсинг. безопаснее (впрочем регулярно бывают хуевые реализации парсера уязвимые к атакам, но это вроде и у текстовых)

* у меня была идея сервиса для гарантированой доставки сообщений. для всякой официальной переписки.

ну вот собственно сюда можно прикрутить. либо сайдчейном на сайдчейне либо обычным чейном и связать через полькудот

* как устроен клиент

приложение пишем на расте/go, которые болтается отдельным процессом и общаются через unix сокеты с гуевой/клишной частью.
как вариант, биндинг между языками и две функции: отправить сообщение строкой и получит новую строку сообщения
внутри - json-rpc. это активно практикуется в эфирных клиентах. описание методов в json-schema.
гуйня скорее всего на qml.
ядро берёт на себя всё взаимодействие с сетью, криптографию, хранение и кэширование. гуи - только гуи.

* мысль о защите от спама

Это не для оплаты всего пути следования, а для конечных точек защита от классического спама.
Один клиент приходит к другому и спрашивает "как тебе  написать?" получает в ответ хэш wasm файла и строку параметров для него.
Результат выполнения прикладывает к письму. Таким образом мы получаем асикоустойчивость по сути. И возможность выполнять некую полезную работу вместо бесполезной.

* о автомапинге контактов

сейчас мессенджеры подтягивают контакт-лист из телефона и мапят контакты по номеру телефона потому что они привязываются только к телефону.
мы вообще не привязываемся к другим идентификаторам человека, но мы можем делать их опциональными через что-то типа оракулов.
например для телеги завести бота и через него подтверждать что владелец учетки с таким-то ключем также владелец такого-то телеграма.
а потом в клиент пихаешь условный пароль от телеграма и он выкачивает твой список контактов и поищет других авторизовашихся.
ну тут надо подумать как не сделать проблем с безопаснотей.
